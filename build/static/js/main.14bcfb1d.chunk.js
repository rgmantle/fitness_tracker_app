(this.webpackJsonpfitnesstrackr=this.webpackJsonpfitnesstrackr||[]).push([[0],{20:function(e,t,r){},48:function(e,t,r){"use strict";r.r(t);var n=r(11),c=r(1),s=r(14),a=r.n(s),i=r(15),o=r(5),u=(r(33),r(2)),l=function(e){var t=JSON.parse(localStorage.getItem("user"));return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:t?"Welcome back ".concat(t.username):"Sign up and Get Shredded Today!"}),Object(u.jsx)("img",{src:"https://www.gannett-cdn.com/presto/2020/07/07/PPHX/508be681-5dae-4448-9a50-b18ca14af634-DW1_4476.jpg?crop=3887,2187,x0,y197&width=3200&height=1801&format=pjpg&auto=webp",width:"33%",height:"33%"})," ;"]})},j=r(7),h=r.n(j),p=r(13),b=(r(20),"https://fitnesstrac-kr.herokuapp.com/api");function d(e,t){return O.apply(this,arguments)}function O(){return(O=Object(p.a)(h.a.mark((function e(t,r){var n,c,s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"/users/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:r})});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,s=c.token,a=c.user,localStorage.setItem("token",JSON.stringify(s)),localStorage.setItem("user",JSON.stringify(a)),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function x(e,t){return f.apply(this,arguments)}function f(){return(f=Object(p.a)(h.a.mark((function e(t,r){var n,c,s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:r})});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,s=c.token,a=c.user,localStorage.setItem("token",JSON.stringify(s)),localStorage.setItem("user",JSON.stringify(a)),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function m(){localStorage.removeItem("token"),localStorage.removeItem("user")}function v(){return g.apply(this,arguments)}function g(){return(g=Object(p.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"/activities"));case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function y(){return w.apply(this,arguments)}function w(){return(w=Object(p.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"/routines"));case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var S=function(e){var t=Object(c.useState)(""),r=Object(n.a)(t,2),s=r[0],a=r[1],i=Object(c.useState)(""),l=Object(n.a)(i,2),j=l[0],b=l[1],O=Object(o.f)();return Object(u.jsxs)("div",{id:"forms",children:[Object(u.jsx)("h1",{children:"Login or Register"}),Object(u.jsxs)("form",{style:{display:"flex",flexDirection:"column"},onSubmit:function(){var e=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,x(s,j);case 4:O.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("h3",{children:"Login"}),Object(u.jsx)("label",{htmlFor:"loginInputUsername",children:"Username"}),Object(u.jsx)("input",{type:"text",id:"loginInputUsername",placeholder:"Username",value:s,onChange:function(e){return a(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"loginInputPassword",children:"Password"}),Object(u.jsx)("input",{type:"password",id:"loginInputPassword",placeholder:"Password",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(u.jsx)("button",{type:"submit",children:"Submit"})]}),Object(u.jsxs)("form",{style:{display:"flex",flexDirection:"column"},onSubmit:function(){var e=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d(s,j);case 4:O.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("h3",{children:"Register"}),Object(u.jsx)("label",{htmlFor:"registerInputUsername",children:"Username"}),Object(u.jsx)("input",{type:"text",id:"registerInputUsername",placeholder:"Username",value:s,onChange:function(e){return a(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"registerInputPassword",children:"Password"}),Object(u.jsx)("input",{type:"password",id:"registerInputPassword",placeholder:"Password",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(u.jsx)("button",{type:"submit",children:"Submit"})]})]})},k=function(e){var t=e.activities,r=e.setActivities;return Object(c.useEffect)((function(){Promise.all([v()]).then((function(e){var t=Object(n.a)(e,1)[0];r(t)})).catch(console.error)}),[]),Object(u.jsxs)("div",{id:"activities",children:[Object(u.jsxs)("h2",{children:["There are currently ",t.length," activities in the database."]}),Object(u.jsx)("ul",{children:t.map((function(e,t){return Object(u.jsxs)("li",{children:["Activity ",t+1,Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:e.name}),Object(u.jsx)("li",{children:e.description})]})]},t)}))})]})},I=function(e){var t=e.routines,r=e.setRoutines;return Object(c.useEffect)((function(){Promise.all([y()]).then((function(e){var t=Object(n.a)(e,1)[0];r(t)})).catch(console.error)}),[]),Object(u.jsx)("div",{id:"routines",children:Object(u.jsx)("ul",{children:t.map((function(e,t){return Object(u.jsxs)("li",{children:["Routine ",t+1,Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:e.name}),Object(u.jsx)("li",{children:e.creatorName})]})]},t)}))})})},N=r(50),P=r(51),J=r(52),C=r(56),R=r(53),U=r(54),T=r(55),F=function(e){var t=localStorage.getItem("token"),r=JSON.parse(localStorage.getItem("user")),s=Object(c.useState)(!1),a=Object(n.a)(s,2),i=a[0],o=a[1];return Object(u.jsx)("div",{children:Object(u.jsxs)(N.a,{color:"light",light:!0,expand:"md",children:[Object(u.jsx)(P.a,{href:"/",children:"FitnessTrackr"}),Object(u.jsx)(J.a,{onClick:function(){return o(!i)}}),Object(u.jsx)(C.a,{isOpen:i,navbar:!0,children:Object(u.jsxs)(R.a,{className:"mr-auto",navbar:!0,children:[Object(u.jsx)(U.a,{children:Object(u.jsx)(T.a,{href:"/routines",children:"Routines"})}),t?Object(u.jsx)(U.a,{children:Object(u.jsx)(T.a,{href:"/myroutines",children:"My Routines"})}):"",Object(u.jsx)(U.a,{children:Object(u.jsx)(T.a,{href:"/activities",children:"Activities"})}),r?Object(u.jsx)(U.a,{children:Object(u.jsx)(T.a,{href:"/",onClick:m,children:"Logout (".concat(r.username,")")})}):Object(u.jsx)(U.a,{children:Object(u.jsx)(T.a,{href:"/loginregister",children:"Login/Register"})})]})})]})})},D=function(){var e=Object(c.useState)([]),t=Object(n.a)(e,2),r=t[0],s=t[1],a=Object(c.useState)([]),j=Object(n.a)(a,2),h=j[0],p=j[1];return Object(u.jsxs)(i.a,{children:[Object(u.jsx)(F,{}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"/routines",children:Object(u.jsx)(I,{routines:h,setRoutines:p})}),Object(u.jsx)(o.a,{path:"/myroutines",children:Object(u.jsx)(I,{})}),Object(u.jsx)(o.a,{path:"/activities",children:Object(u.jsx)(k,{activities:r,setActivities:s})}),Object(u.jsx)(o.a,{path:"/loginregister",children:Object(u.jsx)(S,{})}),Object(u.jsx)(o.a,{path:"/",exact:!0,children:Object(u.jsx)(l,{})}),Object(u.jsx)(o.a,{children:Object(u.jsx)("h1",{children:"404 Page Not Found"})})]})]})};a.a.render(Object(u.jsx)(D,{}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.14bcfb1d.chunk.js.map